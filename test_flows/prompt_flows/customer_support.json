{
  "workflow_id": "customer_support",
  "workflow_name": "AI Customer Support Response System",
  "workflow_type": "customer_service",
  "description": "Intelligent customer support with sentiment analysis, issue classification, and personalized responses",
  "prompt_steps": {
    "1": {
      "step_id": "inquiry_classification",
      "step_name": "Customer Inquiry Classification",
      "step_type": "prompt",
      "step_number": "1",
      "template": "Analyze this customer inquiry and classify it:\n\nCustomer Message: {customer_message}\nCustomer History: {customer_history}\nProduct/Service: {product_context}\n\nClassify the inquiry by:\n1. Issue type (technical, billing, general, complaint, compliment)\n2. Urgency level (low, medium, high, critical)\n3. Complexity (simple, moderate, complex)\n4. Required expertise (general, technical, specialist)\n5. Estimated resolution time\n\nProvide classification with confidence scores.",
      "variables": ["customer_message", "customer_history", "product_context"],
      "category": "classification",
      "description": "Classify customer inquiries for appropriate routing and handling",
      "examples": ["Technical support request", "Billing dispute", "Feature request"],
      "kind": "classify",
      "params": {
        "max_tokens": 400,
        "temperature": 0.2,
        "response_format": "classification"
      }
    },
    "2": {
      "step_id": "sentiment_analysis",
      "step_name": "Customer Sentiment Analysis",
      "step_type": "prompt",
      "step_number": "2",
      "template": "Analyze the emotional tone and sentiment of this customer communication:\n\nCustomer Message: {customer_message}\nPrevious Interactions: {interaction_history}\n\nProvide analysis on:\n1. Overall sentiment (positive, neutral, negative)\n2. Emotional intensity (1-10 scale)\n3. Frustration indicators\n4. Satisfaction indicators\n5. Key emotional triggers\n6. Recommended response tone\n\nConsider cultural and communication style factors: {customer_profile}",
      "variables": ["customer_message", "interaction_history", "customer_profile"],
      "category": "analysis",
      "description": "Analyze customer sentiment and emotional state for appropriate response",
      "examples": ["Frustrated customer analysis", "Happy customer feedback"],
      "kind": "analyze",
      "params": {
        "max_tokens": 500,
        "temperature": 0.3,
        "response_format": "sentiment_analysis"
      }
    },
    "3": {
      "step_id": "knowledge_base_search",
      "step_name": "Knowledge Base Information Retrieval",
      "step_type": "prompt",
      "step_number": "3",
      "template": "Based on the classified inquiry:\n\nIssue Classification: {issue_classification}\nCustomer Sentiment: {sentiment_analysis}\n\nSearch for relevant information from our knowledge base:\n\nKnowledge Base Context: {knowledge_base_content}\nFAQ Database: {faq_content}\nProduct Documentation: {product_docs}\n\nExtract the most relevant information that addresses:\n1. Direct answer to the customer's question\n2. Step-by-step solutions if applicable\n3. Related common issues\n4. Escalation criteria\n5. Follow-up recommendations",
      "variables": ["issue_classification", "sentiment_analysis", "knowledge_base_content", "faq_content", "product_docs"],
      "category": "retrieval",
      "description": "Retrieve relevant information from knowledge base to address customer inquiry",
      "examples": ["Technical troubleshooting steps", "Policy explanation"],
      "kind": "extract",
      "params": {
        "max_tokens": 800,
        "temperature": 0.1,
        "response_format": "information_extract"
      }
    },
    "4": {
      "step_id": "personalized_response",
      "step_name": "Personalized Response Generation",
      "step_type": "prompt",
      "step_number": "4",
      "template": "Create a personalized response for this customer:\n\nCustomer Profile: {customer_profile}\nSentiment Analysis: {sentiment_analysis}\nRelevant Information: {retrieved_information}\nIssue Details: {issue_classification}\n\nCraft a response that:\n1. Acknowledges the customer's concern appropriately\n2. Provides clear, actionable solutions\n3. Matches the customer's communication style\n4. Shows empathy if needed\n5. Includes next steps or follow-up actions\n6. Maintains brand voice: {brand_voice}\n\nResponse Tone: {recommended_tone}\nCustomer Tier: {customer_tier}",
      "variables": ["customer_profile", "sentiment_analysis", "retrieved_information", "issue_classification", "brand_voice", "recommended_tone", "customer_tier"],
      "category": "generation",
      "description": "Generate personalized customer response based on analysis and information",
      "examples": ["Technical support response", "Billing explanation", "Apology and resolution"],
      "kind": "classify",
      "params": {
        "max_tokens": 1000,
        "temperature": 0.5,
        "response_format": "customer_response"
      }
    },
    "5": {
      "step_id": "response_quality_check",
      "step_name": "Response Quality Assurance",
      "step_type": "prompt",
      "step_number": "5",
      "template": "Review this customer response for quality and appropriateness:\n\nGenerated Response: {generated_response}\nOriginal Customer Message: {original_message}\nCustomer Context: {customer_context}\n\nEvaluate:\n1. Accuracy of information provided\n2. Appropriateness of tone and empathy\n3. Completeness of solution\n4. Brand voice consistency\n5. Potential for escalation prevention\n6. Follow-up requirements\n\nProvide a quality score (1-10) and specific recommendations for improvement if needed. Flag any responses that require human review.",
      "variables": ["generated_response", "original_message", "customer_context"],
      "category": "quality_check",
      "description": "Quality assurance check for generated customer responses",
      "examples": ["Response accuracy check", "Tone appropriateness review"],
      "kind": "validate",
      "params": {
        "max_tokens": 600,
        "temperature": 0.2,
        "response_format": "quality_assessment"
      }
    }
  },
  "metadata": {
    "created_at": "2025-01-14T12:00:00Z",
    "workflow_complexity": "medium-high",
    "expected_execution_time": "2-5 minutes",
    "optimization_focus": ["empathy", "accuracy", "efficiency"],
    "typical_use_cases": ["technical_support", "billing_inquiries", "general_questions", "complaint_resolution"]
  }
}