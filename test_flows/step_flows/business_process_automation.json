{
  "workflow_id": "business_process_automation",
  "workflow_name": "Invoice Processing Automation",
  "workflow_type": "business_automation",
  "description": "Automated invoice processing with approval workflows and compliance checks",
  "steps": {
    "1": {
      "step_id": "invoice_reception",
      "step_name": "Invoice Reception",
      "step_type": "ingest",
      "step_number": "1",
      "description": "Receive and categorize incoming invoices",
      "requires": ["invoice_files"],
      "produces": ["categorized_invoices", "reception_log"],
      "params": {
        "input_channels": ["email", "ftp", "web_portal"],
        "file_validation": true,
        "automatic_categorization": true
      },
      "kind": "classify",
      "validation_rules": {
        "file_format_check": true,
        "vendor_whitelist": true
      }
    },
    "2": {
      "step_id": "data_extraction",
      "step_name": "Invoice Data Extraction",
      "step_type": "extract",
      "step_number": "2",
      "description": "Extract key information from invoice documents",
      "requires": ["categorized_invoices"],
      "produces": ["extracted_data", "extraction_confidence"],
      "params": {
        "extraction_fields": ["vendor", "amount", "date", "po_number", "line_items"],
        "ml_model": "invoice_extractor_v3",
        "confidence_threshold": 0.85
      },
      "kind": "extract",
      "validation_rules": {
        "required_fields_present": true,
        "amount_validation": true
      }
    },
    "3": {
      "step_id": "compliance_check",
      "step_name": "Compliance Verification",
      "step_type": "validate",
      "step_number": "3",
      "description": "Verify invoice compliance with business rules",
      "requires": ["extracted_data"],
      "produces": ["compliance_report", "validation_flags"],
      "params": {
        "checks": ["duplicate_detection", "budget_validation", "vendor_verification"],
        "threshold_amounts": {"low": 500, "medium": 5000, "high": 50000},
        "approval_matrix": true
      },
      "kind": "validate",
      "validation_rules": {
        "mandatory_compliance_pass": true,
        "risk_assessment": true
      }
    },
    "4": {
      "step_id": "approval_routing",
      "step_name": "Approval Routing",
      "step_type": "process",
      "step_number": "4",
      "description": "Route invoices through appropriate approval workflows",
      "requires": ["compliance_report", "validation_flags"],
      "produces": ["approval_assignments", "routing_log"],
      "params": {
        "routing_rules": "amount_based",
        "escalation_timeouts": {"level1": 24, "level2": 48, "level3": 72},
        "notification_methods": ["email", "slack", "dashboard"]
      },
      "kind": "notify",
      "validation_rules": {
        "approver_availability": true,
        "routing_rule_compliance": true
      }
    },
    "5": {
      "step_id": "approval_tracking",
      "step_name": "Approval Status Tracking",
      "step_type": "monitor",
      "step_number": "5",
      "description": "Track approval progress and handle escalations",
      "requires": ["approval_assignments"],
      "produces": ["approval_status", "escalation_triggers"],
      "params": {
        "tracking_interval": 4,
        "auto_escalation": true,
        "reminder_schedule": [24, 48, 72]
      },
      "kind": "validate",
      "validation_rules": {
        "sla_compliance": true,
        "escalation_appropriateness": true
      }
    },
    "6": {
      "step_id": "payment_processing",
      "step_name": "Payment Processing",
      "step_type": "process",
      "step_number": "6",
      "description": "Process approved invoices for payment",
      "requires": ["approval_status"],
      "produces": ["payment_instructions", "processing_log"],
      "params": {
        "payment_methods": ["ach", "wire", "check"],
        "payment_scheduling": true,
        "duplicate_payment_prevention": true
      },
      "kind": "report",
      "validation_rules": {
        "payment_authorization": true,
        "accounting_integration": true
      }
    },
    "7": {
      "step_id": "audit_trail",
      "step_name": "Audit Trail Generation",
      "step_type": "output",
      "step_number": "7",
      "description": "Generate comprehensive audit trail",
      "requires": ["payment_instructions", "processing_log"],
      "produces": ["audit_report", "compliance_documentation"],
      "params": {
        "trail_completeness": "full",
        "retention_period": "7_years",
        "access_controls": true
      },
      "kind": "report",
      "validation_rules": {
        "audit_completeness": true,
        "compliance_documentation": true
      }
    }
  },
  "metadata": {
    "created_at": "2025-01-14T12:00:00Z",
    "workflow_complexity": "high",
    "expected_execution_time": "varies (real-time to days)",
    "resource_requirements": {
      "memory": "2GB",
      "cpu": "1 core",
      "storage": "10GB archive space",
      "integrations": ["erp", "accounting", "notification"]
    }
  }
}